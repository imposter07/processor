<div class="card bg-light mb-3">
    <div class="card-header">
        <h6>
            <a href="{{ url_for('main.processor_page',
            processor_name=processor.name) }}">
            {{ processor.name }}
        </a>
            {% if not current_user.is_following_processor(processor) %}
                <a class="btn btn-outline-primary btn-sm rounded-pill"
                   href="{{ url_for('main.follow_processor',
                   processor_name=processor.name) }}"
                style="float: right;">Follow</a>
             {% else %}
                <a class="btn btn-primary btn-sm rounded-pill"
                   href="{{ url_for('main.unfollow_processor',
                   processor_name=processor.name) }}"
                style="float: right;">Following</a>
            {% endif %}
        </h6>
    </div>
    <div class="card">
        <div class="card-body">
        <p class="card-text" style="font-size: 70%;">
            <span id="campaign{{ processor.id }}">
                Campaign: {{ processor.campaign.name}}</span>
            <br>
            <span id="product{{ processor.id }}">
                Product: {{ processor.campaign.product.name}}</span>
            <br>
            <span id="client{{ processor.id }}">
                Client: {{ processor.campaign.product.client.name}}</span>
            <br>
            <span id="location{{ processor.id }}">
                Location: {{ processor.local_path }}</span>
            <br>
            <span id="last_run{{ processor.id }}">
                Last Run: {{ moment(processor.last_run_time).fromNow() }}</span>
            <br>
            <span id="description{{ processor.id }}">
                Description: {{ processor.description}}</span>
        </p>
        </div>
        <div class="card-footer">
        <div class="btn-group btn-block" role="group">
            {% if processor.get_open_requests()|length > 0 %}
                <a href="{{ url_for('main.edit_processor_submit_fix',
                       processor_name=processor.name) }}"
                        type="button" class="btn btn-outline-danger btn-large">
                  Open Requests <span class="badge badge-light">
                    {{ processor.get_open_requests()|length }}</span>
                  <span class="sr-only">Open Requests</span>
                </a>
            {% else %}
                <a href="{{ url_for('main.edit_processor_request_fix',
                       processor_name=processor.name) }}"
                        type="button" class="btn btn-outline-success btn-large">
                  No Open Requests <span class="badge badge-light">
                    {{ processor.get_open_requests()|length }}</span>
                  <span class="sr-only">No Open Requests</span>
                </a>
            {% endif %}
        </div>
            {% with post = processor.get_last_post() %}
                {% if post %}
                    {% include '_post.html' %}
                {% endif %}
            {% endwith %}
        </div>
    </div>
</div>